"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[80],{5080:(v,h,r)=>{r.r(h),r.d(h,{WishlistComponent:()=>g});var _=r(6814),t=r(4769),d=r(6968),u=r(6286),c=r(2425);function C(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"div",10)(4,"div")(5,"h3",11),t._uU(6),t.qZA(),t.TgZ(7,"p",12),t._uU(8),t.qZA(),t.TgZ(9,"button",13),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.removeFev(l._id))}),t._UZ(10,"i",14),t._uU(11," Remove"),t.qZA()(),t.TgZ(12,"div")(13,"button",15,16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.MAs(14),f=t.oxw(2);return t.KtG(f.addProduct(l._id,p))}),t._uU(15,"Add To Cart"),t.qZA()()()()}if(2&n){const e=m.$implicit;t.xp6(2),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.hij("",e.price," EGP")}}function o(n,m){if(1&n&&(t.TgZ(0,"section",3)(1,"header",4)(2,"h1",5),t._uU(3,"My wish List"),t.qZA()(),t.TgZ(4,"div"),t.YNc(5,C,16,4,"div",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.products)}}function a(n,m){1&n&&(t.TgZ(0,"h2",17),t._uU(1,"Your Cart Is Empty"),t.qZA())}let g=(()=>{class n{constructor(e,s,i,l){this._WhishlistService=e,this._Renderer2=s,this._CartService=i,this._ToastrService=l,this.products=[],this.wishListData=[]}ngOnInit(){this._WhishlistService.getWishList().subscribe({next:e=>{this.products=e.data},error:e=>{console.log("From OnInit",e)}})}addProduct(e,s){this._Renderer2.setStyle(s,"visibility","hidden"),this._CartService.addToCart(e).subscribe({next:i=>{this._ToastrService.success(i.message),this._Renderer2.removeStyle(s,"visibility"),this._CartService.cartNumber.next(i.numOfCartItems)},error:i=>{this._Renderer2.removeStyle(s,"visibility")}})}removeFev(e){this._WhishlistService.removeWishList(e).subscribe({next:s=>{console.log("remove item Wish List Res",s),this._WhishlistService.getWishList().subscribe({next:i=>{console.log("Get all wish list in the res of remove method RES ",i),this.products=i.data,this._ToastrService.success("it has been successfully removed from wish \u{1f494}")},error:i=>{console.log("Get all wish list in the res of remove method ERR ",i)}})},error:s=>{console.log("remove item Wish List Err",s)}})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(d.m),t.Y36(t.Qsj),t.Y36(u.N),t.Y36(c._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:4,vars:2,consts:[[1,"container"],["class","m-auto rounded shadow bg-main-light p-5 mb-3",4,"ngIf","ngIfElse"],["msg",""],[1,"m-auto","rounded","shadow","bg-main-light","p-5","mb-3"],[1,"d-flex","justify-content-between"],[1,"h2"],["class","row py-2 border-bottom",4,"ngFor","ngForOf"],[1,"row","py-2","border-bottom"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","align-items-center","justify-content-between"],[1,"h5"],[1,"mb-0"],[1,"btn","m-0","p-0","text-danger",3,"click"],[1,"fa-solid","fa-trash",2,"color","#e43307"],[1,"btn","btn-outline-success","me-1",3,"click"],["btnAdd",""],[1,"text-center"]],template:function(s,i){if(1&s&&(t.TgZ(0,"div",0),t.YNc(1,o,6,1,"section",1),t.YNc(2,a,2,0,"ng-template",null,2,t.W1O),t.qZA()),2&s){const l=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.products)("ngIfElse",l)}},dependencies:[_.ez,_.sg,_.O5]})}return n})()},6286:(v,h,r)=>{r.d(h,{N:()=>u});var _=r(5619),t=r(4769),d=r(9862);let u=(()=>{class c{constructor(o){this._HttpClient=o,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new _.X(0)}addToCart(o){return this._HttpClient.post(this.baseUrl+"cart",{productId:o})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(o){return this._HttpClient.delete(this.baseUrl+`cart/${o}`)}updateCartCount(o,a){return this._HttpClient.put(this.baseUrl+`cart/${o}`,{count:a})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(o,a){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${o}?url=https://github.com/AsmaaAbdo20/FreshCart`,{shippingAddress:a})}static#t=this.\u0275fac=function(a){return new(a||c)(t.LFG(d.eN))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);